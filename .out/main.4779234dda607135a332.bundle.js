(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){function createDetectElementResize(nonce){var _window;_window="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;var cancel,raf,attachEvent="undefined"!=typeof document&&document.attachEvent;if(!attachEvent){var requestFrame=(raf=_window.requestAnimationFrame||_window.mozRequestAnimationFrame||_window.webkitRequestAnimationFrame||function(fn){return _window.setTimeout(fn,20)},function(fn){return raf(fn)}),cancelFrame=(cancel=_window.cancelAnimationFrame||_window.mozCancelAnimationFrame||_window.webkitCancelAnimationFrame||_window.clearTimeout,function(id){return cancel(id)}),resetTriggers=function resetTriggers(element){var triggers=element.__resizeTriggers__,expand=triggers.firstElementChild,contract=triggers.lastElementChild,expandChild=expand.firstElementChild;contract.scrollLeft=contract.scrollWidth,contract.scrollTop=contract.scrollHeight,expandChild.style.width=expand.offsetWidth+1+"px",expandChild.style.height=expand.offsetHeight+1+"px",expand.scrollLeft=expand.scrollWidth,expand.scrollTop=expand.scrollHeight},scrollListener=function scrollListener(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var element=this;resetTriggers(this),this.__resizeRAF__&&cancelFrame(this.__resizeRAF__),this.__resizeRAF__=requestFrame(function(){(function checkTriggers(element){return element.offsetWidth!=element.__resizeLast__.width||element.offsetHeight!=element.__resizeLast__.height})(element)&&(element.__resizeLast__.width=element.offsetWidth,element.__resizeLast__.height=element.offsetHeight,element.__resizeListeners__.forEach(function(fn){fn.call(element,e)}))})}},animation=!1,keyframeprefix="",animationstartevent="animationstart",domPrefixes="Webkit Moz O ms".split(" "),startEvents="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),elm=document.createElement("fakeelement");if(void 0!==elm.style.animationName&&(animation=!0),!1===animation)for(var i=0;i<domPrefixes.length;i++)if(void 0!==elm.style[domPrefixes[i]+"AnimationName"]){keyframeprefix="-"+domPrefixes[i].toLowerCase()+"-",animationstartevent=startEvents[i],animation=!0;break}var animationName="resizeanim",animationKeyframes="@"+keyframeprefix+"keyframes "+animationName+" { from { opacity: 0; } to { opacity: 0; } } ",animationStyle=keyframeprefix+"animation: 1ms "+animationName+"; "}return{addResizeListener:function addResizeListener(element,fn){if(attachEvent)element.attachEvent("onresize",fn);else{if(!element.__resizeTriggers__){var doc=element.ownerDocument,elementStyle=_window.getComputedStyle(element);elementStyle&&"static"==elementStyle.position&&(element.style.position="relative"),function createStyles(doc){if(!doc.getElementById("detectElementResize")){var css=(animationKeyframes||"")+".resize-triggers { "+(animationStyle||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',head=doc.head||doc.getElementsByTagName("head")[0],style=doc.createElement("style");style.id="detectElementResize",style.type="text/css",null!=nonce&&style.setAttribute("nonce",nonce),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(doc.createTextNode(css)),head.appendChild(style)}}(doc),element.__resizeLast__={},element.__resizeListeners__=[],(element.__resizeTriggers__=doc.createElement("div")).className="resize-triggers",element.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',element.appendChild(element.__resizeTriggers__),resetTriggers(element),element.addEventListener("scroll",scrollListener,!0),animationstartevent&&(element.__resizeTriggers__.__animationListener__=function animationListener(e){e.animationName==animationName&&resetTriggers(element)},element.__resizeTriggers__.addEventListener(animationstartevent,element.__resizeTriggers__.__animationListener__))}element.__resizeListeners__.push(fn)}},removeResizeListener:function removeResizeListener(element,fn){if(attachEvent)element.detachEvent("onresize",fn);else if(element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1),!element.__resizeListeners__.length){element.removeEventListener("scroll",scrollListener,!0),element.__resizeTriggers__.__animationListener__&&(element.__resizeTriggers__.removeEventListener(animationstartevent,element.__resizeTriggers__.__animationListener__),element.__resizeTriggers__.__animationListener__=null);try{element.__resizeTriggers__=!element.removeChild(element.__resizeTriggers__)}catch(e){}}}}}__webpack_require__.d(__webpack_exports__,"a",function(){return createDetectElementResize})}).call(this,__webpack_require__(11))},227:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(94),createClass=__webpack_require__(95),possibleConstructorReturn=__webpack_require__(98),getPrototypeOf=__webpack_require__(96),inherits=__webpack_require__(97),react=__webpack_require__(3),react_default=__webpack_require__.n(react),assertThisInitialized=__webpack_require__(51),detectElementResize=(__webpack_require__(502),__webpack_require__(226)),restArgs=function restArgs(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;index<length;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}var args=Array(startIndex+1);for(index=0;index<startIndex;index++)args[index]=arguments[index];return args[startIndex]=rest,func.apply(this,args)}},delay=function delay(func,wait){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return setTimeout.apply(void 0,[func,wait].concat(args))};var utils_debounce=function debounce(func,wait,immediate){var timeout,result,later=function later(context,args){timeout=null,args&&(result=func.apply(context,args))},debounced=restArgs(function(args){if(timeout&&clearTimeout(timeout),immediate){var callNow=!timeout;timeout=setTimeout(later,wait),callNow&&(result=func.apply(this,args))}else timeout=delay(later,wait,this,args);return result});return debounced.cancel=function(){clearTimeout(timeout),timeout=null},debounced},_createDetectElementR=Object(detectElementResize.a)(),addResizeListener=_createDetectElementR.addResizeListener,removeResizeListener=_createDetectElementR.removeResizeListener,ScrollableContainer_ScrollableContainer=function(_React$Component){function ScrollableContainer(props){var _this;return Object(classCallCheck.a)(this,ScrollableContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(ScrollableContainer).call(this,props))).state={showNext:!1,showPrev:!1,scrollableContainerTransform:0},_this.handleScrollLeft=_this.handleScrollLeft.bind(Object(assertThisInitialized.a)(_this)),_this.handleScrollRight=_this.handleScrollRight.bind(Object(assertThisInitialized.a)(_this)),_this.init=_this.init.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(ScrollableContainer,_React$Component),Object(createClass.a)(ScrollableContainer,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.mObserver=new MutationObserver(function(){_this2.init()}),this.mObserver.observe(this.scrollableContainer,{childList:!0}),this.resizeHandler=function(){_this2.init()},addResizeListener(this.container,utils_debounce(this.resizeHandler,200))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mObserver.disconnect(),removeResizeListener(this.container,this.resizeHandler)}},{key:"init",value:function init(){var _this$container=this.container,offsetWidth=_this$container.offsetWidth,offsetLeft=_this$container.offsetLeft,scrollableContainerTransform=this.state.scrollableContainerTransform;if(this.scrollableContainerWidth=this.scrollableContainer.offsetWidth,this.containerWidth=offsetWidth,this.scrollableContainerWidth<this.containerWidth)this.setState({showPrev:!1,showNext:!1,scrollableContainerTransform:0});else{var rightDiff=offsetLeft+offsetWidth-this.scrollableContainer.getBoundingClientRect().right;rightDiff>0?this.setState({scrollableContainerTransform:scrollableContainerTransform+rightDiff,showNext:!1}):this.setState({showPrev:scrollableContainerTransform<0,showNext:offsetWidth<this.scrollableContainerWidth&&scrollableContainerTransform<=this.scrollableContainerWidth})}}},{key:"handleScrollRight",value:function handleScrollRight(){var scrollableContainerTransform=this.state.scrollableContainerTransform,distance=this.props.distance;if(Math.abs(scrollableContainerTransform)<this.scrollableContainerWidth){var offset=Math.max(scrollableContainerTransform-distance,-this.scrollableContainerWidth+this.containerWidth);this.setState({showPrev:!0,showNext:offset!==-this.scrollableContainerWidth+this.containerWidth,scrollableContainerTransform:offset})}else this.setState({showNext:!1})}},{key:"handleScrollLeft",value:function handleScrollLeft(){var scrollableContainerTransform=this.state.scrollableContainerTransform,distance=this.props.distance;if(scrollableContainerTransform<0){var offset=Math.min(scrollableContainerTransform+distance,0);this.setState({showPrev:0!==offset,showNext:!0,scrollableContainerTransform:offset})}}},{key:"render",value:function render(){var _this3=this,_this$state=this.state,showPrev=_this$state.showPrev,showNext=_this$state.showNext,scrollableContainerTransform=_this$state.scrollableContainerTransform,_this$props=this.props,className=_this$props.className,prevButton=_this$props.prevButton,nextButton=_this$props.nextButton,transformStyle={display:"inline-block",position:"relative",transition:"transform .4s ease",transform:"translate3d(".concat(scrollableContainerTransform,"px, 0, 0)")};return react_default.a.createElement("div",{className:className,ref:function ref(container){return _this3.container=container},style:{overflow:"hidden"}},showPrev&&react_default.a.createElement("div",{className:"r-scrollable-btn r-scrollable-btn--left",onClick:this.handleScrollLeft},prevButton||"<-"),react_default.a.createElement("div",{ref:function ref(scrollableContainer){return _this3.scrollableContainer=scrollableContainer},style:transformStyle},this.props.children),showNext&&react_default.a.createElement("div",{className:"r-scrollable-btn r-scrollable-btn--right",onClick:this.handleScrollRight},nextButton||"->"))}}]),ScrollableContainer}(react_default.a.Component);ScrollableContainer_ScrollableContainer.defaultProps={distance:200};var src_components_ScrollableContainer=ScrollableContainer_ScrollableContainer,index_Index=(__webpack_require__(503),function(_React$Component){function Index(props){var _this;return Object(classCallCheck.a)(this,Index),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(Index).call(this,props))).state={items:["北京","上海","成都","重庆","杭州","厦门","广州","西安"]},_this}return Object(inherits.a)(Index,_React$Component),Object(createClass.a)(Index,[{key:"addNewItem",value:function addNewItem(){var items=this.state.items;this.setState({items:items.concat(Math.random().toFixed(2))})}},{key:"removeItem",value:function removeItem(){var items=this.state.items;items.pop(),this.setState({items:items})}},{key:"render",value:function render(){var items=this.state.items;return react_default.a.createElement("div",null,react_default.a.createElement("button",{onClick:this.addNewItem.bind(this)},"add new item"),react_default.a.createElement("button",{onClick:this.removeItem.bind(this)},"remove item"),react_default.a.createElement(src_components_ScrollableContainer,{className:"container",distance:130,prevButton:react_default.a.createElement("div",{className:"op-btn"},react_default.a.createElement("svg",{className:"svg",viewBox:"0 0 18 18",role:"img","aria-label":"previous",focusable:"false"},react_default.a.createElement("path",{d:"m13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z",fillRule:"evenodd"}))),nextButton:react_default.a.createElement("div",{className:"op-btn"},react_default.a.createElement("svg",{className:"svg",viewBox:"0 0 18 18",role:"img","aria-label":"next",focusable:"false"},react_default.a.createElement("path",{d:"m4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z",fillRule:"evenodd"})))},items.map(function(item){return react_default.a.createElement("div",{key:item,className:"item"},item)})))}}]),Index}(react_default.a.Component));__webpack_exports__.a=index_Index;index_Index.__docgenInfo={description:"",methods:[{name:"addNewItem",docblock:null,modifiers:[],params:[],returns:null},{name:"removeItem",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Index"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/index/index.js"]={name:"Index",docgenInfo:index_Index.__docgenInfo,path:"example/index/index.js"})},228:function(module,exports,__webpack_require__){__webpack_require__(229),__webpack_require__(331),module.exports=__webpack_require__(332)},332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93),req=__webpack_require__(500);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(165)(module))},500:function(module,exports,__webpack_require__){var map={"./components/ScrollableContainer.stories.js":501};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=500},501:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(93),_example_index_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(227);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("r-scrollable",module).add("default",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_example_index_index__WEBPACK_IMPORTED_MODULE_2__.a,null)})}.call(this,__webpack_require__(165)(module))},502:function(module,exports,__webpack_require__){},503:function(module,exports,__webpack_require__){}},[[228,1,2]]]);
//# sourceMappingURL=main.4779234dda607135a332.bundle.js.map